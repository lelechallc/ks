{
  "_CONFIG_VERSION": "ecdfec3bc1de8e4ed2e8d5ef0ab37197_local",
  "_DRAGONFLY_CREATE_TIME": "2024-06-17 17:38:11",
  "_DRAGONFLY_VERSION": "0.8.0",
  "kess_config": {},
  "pipeline_manager_config": {
    "base_pipeline": {
      "processor": {
        "_branch_controller_A93BFE5B": {
          "$branch_start": "_branch_controller_A93BFE5B",
          "$code_info": "[if] A93BFE5B cofea_reader.py in <module>(): .if_(\"retrieve_num <= 0\")",
          "$metadata": {
            "$input_common_attrs": [
              "retrieve_num"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "_if_control_attr_2"
            ],
            "$output_item_attrs": []
          },
          "export_common_attr": [
            "_if_control_attr_2"
          ],
          "for_branch_control": true,
          "function_for_common": "evaluate",
          "import_common_attr": [
            "retrieve_num"
          ],
          "lua_script": "function evaluate() if (retrieve_num <= 0) then return false else return true end end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "_branch_controller_C954FEDA": {
          "$branch_start": "_branch_controller_C954FEDA",
          "$code_info": "[if] C954FEDA cofea_reader.py in <module>(): .if_(\"#(comment_id_list_common_retrieve or {}) == 0\")",
          "$metadata": {
            "$input_common_attrs": [
              "comment_id_list_common_retrieve"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "_if_control_attr_1"
            ],
            "$output_item_attrs": []
          },
          "export_common_attr": [
            "_if_control_attr_1"
          ],
          "for_branch_control": true,
          "function_for_common": "evaluate",
          "import_common_attr": [
            "comment_id_list_common_retrieve"
          ],
          "lua_script": "function evaluate() if (#(comment_id_list_common_retrieve or {}) == 0) then return false else return true end end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "count_reco_result_667B8B": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "retrieve_num"
            ],
            "$output_item_attrs": []
          },
          "save_result_size_to_common_attr": "retrieve_num",
          "type_name": "CommonRecoCountRecoResultEnricher"
        },
        "count_reco_result_7BD7E7": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "send_sample_cnt"
            ],
            "$output_item_attrs": []
          },
          "save_result_size_to_common_attr": "send_sample_cnt",
          "type_name": "CommonRecoCountRecoResultEnricher"
        },
        "dispatch_common_attr_B3813A": {
          "$metadata": {
            "$input_common_attrs": [
              "audienceAction_first_list_common_retrieve",
              "audienceAction_list_common_retrieve",
              "audienceAction_second_list_common_retrieve",
              "author_id_list_common_retrieve",
              "comment_genre_list_common_retrieve",
              "comment_id_list_common_retrieve",
              "dislike_cnt_list_common_retrieve",
              "expandAction_first_list_common_retrieve",
              "expandAction_list_common_retrieve",
              "expandAction_second_list_common_retrieve",
              "likeAction_first_list_common_retrieve",
              "likeAction_list_common_retrieve",
              "likeAction_second_list_common_retrieve",
              "like_cnt_list_common_retrieve",
              "minute_diff_list_common_retrieve",
              "mmu_category_tag_list_common_retrieve",
              "mmu_emotion_tag_list_common_retrieve",
              "mmu_entity_list_list_common_retrieve",
              "new_sample_weight_list_common_retrieve",
              "predict_like_score_list_common_retrieve",
              "predict_reply_score_list_common_retrieve",
              "quality_v2_score_list_common_retrieve",
              "realshow_cnt_list_common_retrieve",
              "replyAction_first_list_common_retrieve",
              "replyAction_list_common_retrieve",
              "replyAction_second_list_common_retrieve",
              "reply_cnt_list_common_retrieve",
              "reportAction_first_list_common_retrieve",
              "reportAction_list_common_retrieve",
              "reportAction_second_list_common_retrieve",
              "risk_inactive_tag _list_common_retrieve",
              "risk_insult_tag_list_common_retrieve",
              "risk_negative_tag_list_common_retrieve",
              "sample_weight_list_common_retrieve",
              "showAction_list_common_retrieve"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "audienceAction",
              "audienceAction_first",
              "audienceAction_second",
              "author_id",
              "comment_genre",
              "comment_id",
              "dislike_cnt",
              "expandAction",
              "expandAction_first",
              "expandAction_second",
              "likeAction",
              "likeAction_first",
              "likeAction_second",
              "like_cnt",
              "minute_diff",
              "mmu_category_tag",
              "mmu_emotion_tag",
              "mmu_entity_list",
              "new_sample_weight",
              "predict_like_score",
              "predict_reply_score",
              "quality_v2_score",
              "realshow_cnt",
              "replyAction",
              "replyAction_first",
              "replyAction_second",
              "reply_cnt",
              "reportAction",
              "reportAction_first",
              "reportAction_second",
              "risk_inactive_tag ",
              "risk_insult_tag",
              "risk_negative_tag",
              "sample_weight",
              "showAction"
            ]
          },
          "dispatch_config": [
            {
              "from_common_attr": "comment_id_list_common_retrieve",
              "to_item_attr": "comment_id"
            },
            {
              "from_common_attr": "author_id_list_common_retrieve",
              "to_item_attr": "author_id"
            },
            {
              "from_common_attr": "like_cnt_list_common_retrieve",
              "to_item_attr": "like_cnt"
            },
            {
              "from_common_attr": "reply_cnt_list_common_retrieve",
              "to_item_attr": "reply_cnt"
            },
            {
              "from_common_attr": "dislike_cnt_list_common_retrieve",
              "to_item_attr": "dislike_cnt"
            },
            {
              "from_common_attr": "realshow_cnt_list_common_retrieve",
              "to_item_attr": "realshow_cnt"
            },
            {
              "from_common_attr": "minute_diff_list_common_retrieve",
              "to_item_attr": "minute_diff"
            },
            {
              "from_common_attr": "showAction_list_common_retrieve",
              "to_item_attr": "showAction"
            },
            {
              "from_common_attr": "expandAction_list_common_retrieve",
              "to_item_attr": "expandAction"
            },
            {
              "from_common_attr": "replyAction_list_common_retrieve",
              "to_item_attr": "replyAction"
            },
            {
              "from_common_attr": "likeAction_list_common_retrieve",
              "to_item_attr": "likeAction"
            },
            {
              "from_common_attr": "audienceAction_list_common_retrieve",
              "to_item_attr": "audienceAction"
            },
            {
              "from_common_attr": "reportAction_list_common_retrieve",
              "to_item_attr": "reportAction"
            },
            {
              "from_common_attr": "comment_genre_list_common_retrieve",
              "to_item_attr": "comment_genre"
            },
            {
              "from_common_attr": "risk_insult_tag_list_common_retrieve",
              "to_item_attr": "risk_insult_tag"
            },
            {
              "from_common_attr": "risk_negative_tag_list_common_retrieve",
              "to_item_attr": "risk_negative_tag"
            },
            {
              "from_common_attr": "risk_inactive_tag _list_common_retrieve",
              "to_item_attr": "risk_inactive_tag "
            },
            {
              "from_common_attr": "mmu_category_tag_list_common_retrieve",
              "to_item_attr": "mmu_category_tag"
            },
            {
              "from_common_attr": "mmu_emotion_tag_list_common_retrieve",
              "to_item_attr": "mmu_emotion_tag"
            },
            {
              "from_common_attr": "mmu_entity_list_list_common_retrieve",
              "to_item_attr": "mmu_entity_list"
            },
            {
              "from_common_attr": "sample_weight_list_common_retrieve",
              "to_item_attr": "sample_weight"
            },
            {
              "from_common_attr": "predict_reply_score_list_common_retrieve",
              "to_item_attr": "predict_reply_score"
            },
            {
              "from_common_attr": "quality_v2_score_list_common_retrieve",
              "to_item_attr": "quality_v2_score"
            },
            {
              "from_common_attr": "predict_like_score_list_common_retrieve",
              "to_item_attr": "predict_like_score"
            },
            {
              "from_common_attr": "new_sample_weight_list_common_retrieve",
              "to_item_attr": "new_sample_weight"
            },
            {
              "from_common_attr": "expandAction_first_list_common_retrieve",
              "to_item_attr": "expandAction_first"
            },
            {
              "from_common_attr": "replyAction_first_list_common_retrieve",
              "to_item_attr": "replyAction_first"
            },
            {
              "from_common_attr": "likeAction_first_list_common_retrieve",
              "to_item_attr": "likeAction_first"
            },
            {
              "from_common_attr": "audienceAction_first_list_common_retrieve",
              "to_item_attr": "audienceAction_first"
            },
            {
              "from_common_attr": "reportAction_first_list_common_retrieve",
              "to_item_attr": "reportAction_first"
            },
            {
              "from_common_attr": "expandAction_second_list_common_retrieve",
              "to_item_attr": "expandAction_second"
            },
            {
              "from_common_attr": "replyAction_second_list_common_retrieve",
              "to_item_attr": "replyAction_second"
            },
            {
              "from_common_attr": "likeAction_second_list_common_retrieve",
              "to_item_attr": "likeAction_second"
            },
            {
              "from_common_attr": "audienceAction_second_list_common_retrieve",
              "to_item_attr": "audienceAction_second"
            },
            {
              "from_common_attr": "reportAction_second_list_common_retrieve",
              "to_item_attr": "reportAction_second"
            }
          ],
          "type_name": "CommonRecoCommonAttrDispatchEnricher"
        },
        "enrich_attr_by_lua_05BC23": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "audienceAction_first",
              "expandAction_first",
              "likeAction_first",
              "replyAction_first",
              "reportAction_first",
              "showAction"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "new_sample_weight"
            ]
          },
          "export_item_attr": [
            "new_sample_weight"
          ],
          "function_for_item": "cal_new_sample_weight",
          "import_item_attr": [
            "showAction",
            "expandAction_first",
            "replyAction_first",
            "likeAction_first",
            "audienceAction_first",
            "reportAction_first"
          ],
          "lua_script": "function cal_new_sample_weight()\n          local weight = (showAction or 1.0) * 1.0\n          if (expandAction_first or 0) > 0 then\n            weight = weight + 3.0\n          end\n          if (replyAction_first or 0) > 0 then\n            weight = weight + 5.0\n          end\n          if (likeAction_first or 0) > 0 then\n            weight = weight + 3.0\n          end\n          if (audienceAction_first or 0) > 0 then\n            weight = weight + 3.0\n          end\n          if (reportAction_first or 0) > 0 then\n            weight = weight + 8.0\n          end\n          return weight\n        end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_attr_by_lua_29BEB0": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "expandAction",
              "expandAction_first",
              "likeAction",
              "likeAction_first",
              "likeAction_second",
              "replyAction",
              "replyAction_first",
              "replyAction_second"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "expandAction_first_v",
              "expandAction_v",
              "likeAction_first_v",
              "likeAction_second_v",
              "likeAction_v",
              "replyAction_first_v",
              "replyAction_second_v",
              "replyAction_v"
            ]
          },
          "export_item_attr": [
            "expandAction_v",
            "likeAction_v",
            "replyAction_v",
            "expandAction_first_v",
            "likeAction_first_v",
            "likeAction_second_v",
            "replyAction_first_v",
            "replyAction_second_v"
          ],
          "function_for_item": "trans",
          "import_item_attr": [
            "expandAction",
            "likeAction",
            "replyAction",
            "expandAction_first",
            "likeAction_first",
            "likeAction_second",
            "replyAction_first",
            "replyAction_second"
          ],
          "lua_script": "function trans() \n                return expandAction * 1.0, likeAction * 1.0, replyAction * 1.0, expandAction_first * 1.0, likeAction_first * 1.0, likeAction_second * 1.0,replyAction_first * 1.0, replyAction_second * 1.0\n            end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_attr_by_lua_2AF6DB": {
          "$metadata": {
            "$input_common_attrs": [
              "request_time"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "sample_minute_diff",
              "time_ms"
            ],
            "$output_item_attrs": []
          },
          "export_common_attr": [
            "time_ms",
            "sample_minute_diff"
          ],
          "function_for_common": "cal",
          "import_common_attr": [
            "request_time"
          ],
          "lua_script": "function cal()\n                local time_ms = request_time // 1000\n                local sample_minute_diff = (util.GetTimestamp() - request_time) / 1000 / 1000 / 60.0\n                return time_ms, sample_minute_diff\n            end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_attr_by_lua_2FA327": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "predict_like_score",
              "predict_reply_score",
              "quality_v2_score"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "fre_grouped_predict_like_score",
              "fre_grouped_predict_reply_score",
              "fre_grouped_quality_v2_score"
            ]
          },
          "export_item_attr": [
            "fre_grouped_predict_reply_score",
            "fre_grouped_quality_v2_score",
            "fre_grouped_predict_like_score"
          ],
          "function_for_item": "fre_group",
          "import_item_attr": [
            "predict_reply_score",
            "quality_v2_score",
            "predict_like_score"
          ],
          "lua_script": "function bisect_left(a, x, left, right)\n    lo = left or 1\n    hi = right or nil\n\n    while lo < hi do\n        mid = math.floor((lo+hi) / 2)\n        if a[mid] < x then\n            lo = mid+1\n        else\n            hi = mid\n        end\n    end\n    return lo\nend\n\nfunction fre_group()\n    local fre_grouped_predict_reply_score = 0\n    local fre_grouped_quality_v2_score = 0\n    local fre_grouped_predict_like_score = 0\n\n    local predict_reply_score = predict_reply_score or 0.0\n    local quality_v2_score = quality_v2_score or 0.0\n    local predict_like_score = predict_like_score or 0.0\n\n    mmu_predict_reply_points = {\n        0.019775390625,0.020996093749999997,0.02197265625,0.02294921874999999,0.02368164062500001,0.02478027343750001,0.025512695312500007,0.02636718750000001,0.027221679687499993,0.02795410156249999,0.028442382812500003,0.029296874999999983,0.029785156250000007,0.030273437500000014,0.03112792968749999,0.03171049792521586,0.03198242187499999,0.03247070312500001,0.033203125000000014,0.0341796875,0.034658820023650665,0.03515624999999997,0.03515625,0.035644531250000014,0.03686523437499997,0.03735351562499999,0.03784179687499998,0.038574218749999986,0.03906249999999998,0.03955078125,0.040283203124999986,0.04077148437499999,0.041503906249999986,0.04199218749999998,0.04272460937499998,0.04345703124999997,0.04394531249999999,0.04467773437499997,0.045410156249999986,0.04614257812499996,0.04614257812500003,0.04663085937500002,0.04736328125000005,0.048828124999999965,0.04956054687499997,0.04956054687500005,0.05029296875000003,0.05102539062500002,0.0517578125,0.052734375,0.05346679687500002,0.05419921875,0.054931640625,0.05590820312499998,0.056640625,0.057373046874999986,0.058349609374999986,0.059326171874999986,0.06005859375,0.06103515624999999,0.06176757812500002,0.06298828125,0.06347656249999999,0.06445312499999999,0.06542968750000003,0.06640625000000001,0.06738281250000007,0.06933593749999997,0.07080078124999996,0.07177734375000006,0.07275390625,0.07373046875,0.07470703125000003,0.07714843749999994,0.078125,0.07910156250000007,0.08154296874999999,0.08251953125000007,0.08398437500000006,0.08642578124999993,0.08740234375,0.08886718750000004,0.09123681735033191,0.09277343749999999,0.09521484374999997,0.09814453124999996,0.09960937499999999,0.10253906249999996,0.10498046874999989,0.10839843749999994,0.11132812499999997,0.11572265624999993,0.12011718749999996,0.12402343750000004,0.13085937499999997,0.13964843749999994,0.1484375,0.16210937500000006,0.18457031250000003\n    }\n    -- len(mmu_predict_reply_points) = 99\n    fre_grouped_predict_reply_score = bisect_left(mmu_predict_reply_points, predict_reply_score, 1, 100)\n\n    mmu_quality_v2_points = {\n        0.03978304156211389,0.04422331915682686,0.04826752359849389,0.051628150032779874,0.053594134957566555,0.05615895748232803,0.05815246854809238,0.060378186973739256,0.062056574229191565,0.06419599872001741,0.06586546460636505,0.06783081943813231,0.06957250692553976,0.07130237000825912,0.07295183526637354,0.07467886335384004,0.07631673516925619,0.07790073054248281,0.07982027262911803,0.08095387698518962,0.08263504462754624,0.08424753442683139,0.08561375010632549,0.08713021286800562,0.08873092208476924,0.09050955496118494,0.09210944188706079,0.09367176548352127,0.09525673228213655,0.0967121896844958,0.09822862748488083,0.09992876590348834,0.10125447864824026,0.1026740602546342,0.10415538827729859,0.10585599218914643,0.10748182096853813,0.1092022295678287,0.11106148934697042,0.11274074465264214,0.11426202417831968,0.11619989572584062,0.11781128590239384,0.11951641554709605,0.1214683763931964,0.1232892065038568,0.12549449716385147,0.12758780146290577,0.1298177819434125,0.13157890886811863,0.13382782440959193,0.13602679709787524,0.13851029865181777,0.14087885790930993,0.14306719453892738,0.14567949042871006,0.14774184564189344,0.1502073999626811,0.15270237284013832,0.15546439226447073,0.15775105999465835,0.16024157468936817,0.16334566333669953,0.1667697487733298,0.17035358564738334,0.17350841661403832,0.17682124813877223,0.1801482044143611,0.18380945641125018,0.1874634245996509,0.19098342578920643,0.19468923482622863,0.1985974266233309,0.20291621089642597,0.20787383462528156,0.2132065005727633,0.2179834062872023,0.22351676945690985,0.22948527059966775,0.23621140175391664,0.24217978212763308,0.24927438640826152,0.2565389246263794,0.26427640886136633,0.271679244932186,0.2810227867053544,0.29088497804431546,0.30195308034240076,0.31432957531995653,0.32695306763911963,0.3420306702813107,0.3580314200895649,0.3759953923506414,0.39507115033115225,0.4162486447407249,0.43882242133454524,0.46423175643403525,0.5023306283757816,0.5553181899394263\n    }\n    -- len(mmu_quality_v2_points) = 99\n    fre_grouped_quality_v2_score = bisect_left(mmu_quality_v2_points, quality_v2_score, 1, 100)\n\n    mmu_predict_like_points = {\n        0.11572265625000006,0.13403320312499994,0.14648437500000008,0.158203125,0.16479492187500008,0.17504882812500003,0.18310546874999997,0.19042968749999997,0.19628906250000008,0.20507812500000003,0.21240234374999994,0.2182617187500001,0.22412109375000008,0.2314453125,0.23730468749999997,0.24462890625,0.2510056756786745,0.2554712538034123,0.2622070312499999,0.2666687390019064,0.27392578125,0.27832031249999994,0.2856445312499999,0.2900390625,0.2944335937500001,0.3032226562499999,0.3076171875000002,0.31494140624999983,0.32080078125,0.3251953125,0.33398437499999983,0.3383789062499999,0.3427734375,0.3471679687500001,0.3530273437500001,0.3603515625000001,0.36474609375000017,0.37207031249999983,0.3779296875,0.3867187499999997,0.38964843750000006,0.3955078125000006,0.4042968750000001,0.4101562500000001,0.4189453124999999,0.42480468750000006,0.4306640625,0.43945312499999983,0.44531250000000017,0.45410156249999983,0.45996093750000033,0.46874999999999983,0.4775390625000001,0.4863281249999998,0.4980468749999998,0.5039062500000001,0.5126953125,0.5185546874999999,0.5273437500000002,0.5361328124999998,0.5478515624999998,0.5566406250000001,0.5683593750000001,0.580078125,0.5917968750000004,0.6064453124999997,0.6181640625,0.6269531250000003,0.6386718750000002,0.6549115200365407,0.6679687500000001,0.6796875000000002,0.6972656249999996,0.7148437499999997,0.7294921874999997,0.7470703124999997,0.7675781249999997,0.7876046690770576,0.8085937499999997,0.8320312499999996,0.8496093750000003,0.8730468750000003,0.9023437500000003,0.9374999999999994,0.9609375,0.9902343750000004,1.025390625,1.06640625,1.1132812499999998,1.1542968750000007,1.2070312500000004,1.2714843749999991,1.3359375,1.4062499999999996,1.4824218749999996,1.5585937500000002,1.6523437500000007,1.7893688712580609,1.9804687499999993\n    }\n    -- len(mmu_predict_reply_points) = 99\n    fre_grouped_predict_like_score = bisect_left(mmu_predict_like_points, predict_like_score, 1, 100)\n\n\n    return fre_grouped_predict_reply_score, fre_grouped_quality_v2_score, fre_grouped_predict_like_score\nend",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_attr_by_lua_68E85C": {
          "$metadata": {
            "$input_common_attrs": [
              "age_segment",
              "gender",
              "photo_id"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "photo_hash"
            ],
            "$output_item_attrs": []
          },
          "export_common_attr": [
            "photo_hash"
          ],
          "function_for_common": "get_photo_hash",
          "import_common_attr": [
            "photo_id",
            "age_segment",
            "gender"
          ],
          "lua_script": "function get_photo_hash()\n                local photo_hash_str = tostring(photo_id) .. tostring(age_segment) .. tostring(gender)\n                return util.CityHash64(photo_hash_str)\n            end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_attr_by_lua_877019": {
          "$metadata": {
            "$input_common_attrs": [
              "device_id",
              "user_id"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "user_hash"
            ],
            "$output_item_attrs": []
          },
          "export_common_attr": [
            "user_hash"
          ],
          "function_for_common": "get_hash",
          "import_common_attr": [
            "user_id",
            "device_id"
          ],
          "lua_script": "function get_hash()\n                if device_id == nil or device_id == \"\" then\n                    return tonumber(user_id or '0')\n                end\n                return util.CityHash64(device_id)\n            end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_attr_by_lua_A6A36E": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "audienceAction",
              "expandAction",
              "likeAction",
              "replyAction",
              "reportAction",
              "showAction"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "sample_weight"
            ]
          },
          "export_item_attr": [
            "sample_weight"
          ],
          "function_for_item": "cal_sample_weight",
          "import_item_attr": [
            "showAction",
            "expandAction",
            "replyAction",
            "likeAction",
            "audienceAction",
            "reportAction"
          ],
          "lua_script": "function cal_sample_weight()\n                local weight = showAction * 1.0\n                if (expandAction or 0) > 0 then\n                  weight = weight + 3.0\n                end\n                if (replyAction or 0) > 0 then\n                  weight = weight + 5.0\n                end\n                if (likeAction or 0) > 0 then\n                  weight = weight + 3.0\n                end\n                if (audienceAction or 0) > 0 then\n                  weight = weight + 3.0\n                end\n                if (reportAction or 0) > 0 then\n                  weight = weight + 8.0\n                end\n                return weight\n            end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_attr_by_lua_C36279": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "like_cnt",
              "realshow_cnt",
              "reply_cnt"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "ltr",
              "rtr"
            ]
          },
          "export_item_attr": [
            "ltr",
            "rtr"
          ],
          "function_for_item": "cal_xtr",
          "import_item_attr": [
            "like_cnt",
            "reply_cnt",
            "realshow_cnt"
          ],
          "lua_script": "function cal_xtr()\n                local vv = realshow_cnt or 0.0\n                local ltr = like_cnt / (vv + 1.0)\n                local rtr = reply_cnt / (vv + 1.0)\n                return ltr, rtr\n            end",
          "type_name": "CommonRecoLuaAttrEnricher"
        },
        "enrich_with_protobuf_88269C": {
          "$metadata": {
            "$input_common_attrs": [
              "raw_sample_package"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "age_segment",
              "audienceAction_first_list_common_retrieve",
              "audienceAction_list_common_retrieve",
              "audienceAction_second_list_common_retrieve",
              "author_id_list_common_retrieve",
              "client_request_info",
              "comment_genre_list_common_retrieve",
              "comment_id_list_common_retrieve",
              "device_id",
              "dislike_cnt_list_common_retrieve",
              "expandAction_first_list_common_retrieve",
              "expandAction_list_common_retrieve",
              "expandAction_second_list_common_retrieve",
              "gender",
              "likeAction_first_list_common_retrieve",
              "likeAction_list_common_retrieve",
              "likeAction_second_list_common_retrieve",
              "like_cnt_list_common_retrieve",
              "llsid",
              "minute_diff_list_common_retrieve",
              "mmu_category_tag_list_common_retrieve",
              "mmu_emotion_tag_list_common_retrieve",
              "mmu_entity_list_list_common_retrieve",
              "new_sample_weight_list_common_retrieve",
              "photo_author_id",
              "photo_id",
              "predict_like_score_list_common_retrieve",
              "predict_reply_score_list_common_retrieve",
              "quality_v2_score_list_common_retrieve",
              "realshow_cnt_list_common_retrieve",
              "replyAction_first_list_common_retrieve",
              "replyAction_list_common_retrieve",
              "replyAction_second_list_common_retrieve",
              "reply_cnt_list_common_retrieve",
              "reportAction_first_list_common_retrieve",
              "reportAction_list_common_retrieve",
              "reportAction_second_list_common_retrieve",
              "request_time",
              "risk_inactive_tag _list_common_retrieve",
              "risk_insult_tag_list_common_retrieve",
              "risk_negative_tag_list_common_retrieve",
              "sample_weight_list_common_retrieve",
              "showAction_list_common_retrieve",
              "user_id"
            ],
            "$output_item_attrs": []
          },
          "attrs": [
            {
              "name": "user_id",
              "path": "common_attr",
              "sample_attr_name": "user_id"
            },
            {
              "name": "device_id",
              "path": "common_attr",
              "sample_attr_name": "device_id"
            },
            {
              "name": "photo_id",
              "path": "common_attr",
              "sample_attr_name": "photo_id"
            },
            {
              "name": "photo_author_id",
              "path": "common_attr",
              "sample_attr_name": "photo_author_id"
            },
            {
              "name": "gender",
              "path": "common_attr",
              "sample_attr_name": "gender"
            },
            {
              "name": "age_segment",
              "path": "common_attr",
              "sample_attr_name": "age_segment"
            },
            {
              "name": "llsid",
              "path": "common_attr",
              "sample_attr_name": "llsid"
            },
            {
              "name": "client_request_info",
              "path": "common_attr",
              "sample_attr_name": "client_request_info"
            },
            {
              "name": "comment_id_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "comment_id"
            },
            {
              "name": "author_id_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "author_id"
            },
            {
              "name": "like_cnt_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "like_cnt"
            },
            {
              "name": "reply_cnt_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "reply_cnt"
            },
            {
              "name": "dislike_cnt_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "dislike_cnt"
            },
            {
              "name": "realshow_cnt_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "realshow_cnt"
            },
            {
              "name": "minute_diff_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "minute_diff"
            },
            {
              "name": "showAction_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "showAction"
            },
            {
              "name": "expandAction_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "expandAction"
            },
            {
              "name": "replyAction_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "replyAction"
            },
            {
              "name": "likeAction_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "likeAction"
            },
            {
              "name": "audienceAction_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "audienceAction"
            },
            {
              "name": "reportAction_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "reportAction"
            },
            {
              "name": "comment_genre_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "comment_genre"
            },
            {
              "name": "risk_insult_tag_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "risk_insult_tag"
            },
            {
              "name": "risk_negative_tag_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "risk_negative_tag"
            },
            {
              "name": "risk_inactive_tag _list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "risk_inactive_tag "
            },
            {
              "name": "mmu_category_tag_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "mmu_category_tag"
            },
            {
              "name": "mmu_emotion_tag_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "mmu_emotion_tag"
            },
            {
              "name": "mmu_entity_list_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "mmu_entity_list"
            },
            {
              "name": "sample_weight_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "sample_weight"
            },
            {
              "name": "predict_reply_score_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "predict_reply_score"
            },
            {
              "name": "quality_v2_score_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "quality_v2_score"
            },
            {
              "name": "predict_like_score_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "predict_like_score"
            },
            {
              "name": "new_sample_weight_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "new_sample_weight"
            },
            {
              "name": "expandAction_first_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "expandAction_first"
            },
            {
              "name": "replyAction_first_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "replyAction_first"
            },
            {
              "name": "likeAction_first_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "likeAction_first"
            },
            {
              "name": "audienceAction_first_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "audienceAction_first"
            },
            {
              "name": "reportAction_first_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "reportAction_first"
            },
            {
              "name": "expandAction_second_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "expandAction_second"
            },
            {
              "name": "replyAction_second_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "replyAction_second"
            },
            {
              "name": "likeAction_second_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "likeAction_second"
            },
            {
              "name": "audienceAction_second_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "audienceAction_second"
            },
            {
              "name": "reportAction_second_list_common_retrieve",
              "path": "sample.attr",
              "sample_attr_name": "reportAction_second"
            },
            {
              "name": "request_time",
              "path": "timestamp"
            }
          ],
          "from_extra_var": "raw_sample_package",
          "type_name": "CommonRecoProtobufAttrEnricher"
        },
        "extract_kuiba_parameter_3188A8": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "author_id",
              "comment_id",
              "dislike_cnt",
              "fre_grouped_quality_v2_score",
              "like_cnt",
              "ltr",
              "minute_diff",
              "reply_cnt",
              "rtr",
              "showAction"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "comment_item_signs",
              "comment_item_slots"
            ]
          },
          "config": {
            "author_id": {
              "attrs": [
                {
                  "attr": [
                    "author_id"
                  ],
                  "converter": "id",
                  "key_type": 202,
                  "mio_slot_key_type": 202
                }
              ]
            },
            "comment_id": {
              "attrs": [
                {
                  "attr": [
                    "comment_id"
                  ],
                  "converter": "id",
                  "key_type": 201,
                  "mio_slot_key_type": 201
                }
              ]
            },
            "dislike_cnt": {
              "attrs": [
                {
                  "attr": [
                    "dislike_cnt"
                  ],
                  "converter": "discrete",
                  "converter_args": "3,0,100000,1,0",
                  "key_type": 209,
                  "mio_slot_key_type": 209
                }
              ]
            },
            "fre_grouped_quality_v2_score": {
              "attrs": [
                {
                  "attr": [
                    "fre_grouped_quality_v2_score"
                  ],
                  "converter": "id",
                  "key_type": 408,
                  "mio_slot_key_type": 408
                }
              ]
            },
            "like_cnt": {
              "attrs": [
                {
                  "attr": [
                    "like_cnt"
                  ],
                  "converter": "discrete",
                  "converter_args": "5,0,100000,1,0",
                  "key_type": 203,
                  "mio_slot_key_type": 203
                }
              ]
            },
            "ltr": {
              "attrs": [
                {
                  "attr": [
                    "ltr"
                  ],
                  "converter": "discrete",
                  "converter_args": "0.001,0,1000,1,-1",
                  "key_type": 206,
                  "mio_slot_key_type": 206
                }
              ]
            },
            "minute_diff": {
              "attrs": [
                {
                  "attr": [
                    "minute_diff"
                  ],
                  "converter": "discrete",
                  "converter_args": "36,0,336,1,0",
                  "key_type": 205,
                  "mio_slot_key_type": 205
                }
              ]
            },
            "reply_cnt": {
              "attrs": [
                {
                  "attr": [
                    "reply_cnt"
                  ],
                  "converter": "discrete",
                  "converter_args": "5,0,100000,1,0",
                  "key_type": 204,
                  "mio_slot_key_type": 204
                }
              ]
            },
            "rtr": {
              "attrs": [
                {
                  "attr": [
                    "rtr"
                  ],
                  "converter": "discrete",
                  "converter_args": "0.001,0,1000,1,-1",
                  "key_type": 207,
                  "mio_slot_key_type": 207
                }
              ]
            },
            "showAction": {
              "attrs": [
                {
                  "attr": [
                    "showAction"
                  ],
                  "converter": "id",
                  "key_type": 208,
                  "mio_slot_key_type": 208
                }
              ]
            }
          },
          "is_common_attr": false,
          "parameters_output": "comment_item_signs",
          "slots_output": "comment_item_slots",
          "type_name": "KuibaParameterAttrEnricher"
        },
        "extract_kuiba_parameter_67B29A": {
          "$metadata": {
            "$input_common_attrs": [
              "age_segment",
              "device_id",
              "gender",
              "photo_author_id",
              "photo_id",
              "user_id"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "comment_common_signs",
              "comment_common_slots"
            ],
            "$output_item_attrs": []
          },
          "config": {
            "age_segment": {
              "attrs": [
                {
                  "attr": [
                    "age_segment"
                  ],
                  "converter": "id",
                  "key_type": 102,
                  "mio_slot_key_type": 102
                }
              ]
            },
            "device_id": {
              "attrs": [
                {
                  "attr": [
                    "device_id"
                  ],
                  "converter": "id",
                  "key_type": 106,
                  "mio_slot_key_type": 106
                }
              ]
            },
            "gender": {
              "attrs": [
                {
                  "attr": [
                    "gender"
                  ],
                  "converter": "id",
                  "key_type": 101,
                  "mio_slot_key_type": 101
                }
              ]
            },
            "photo_author_id": {
              "attrs": [
                {
                  "attr": [
                    "photo_author_id"
                  ],
                  "converter": "id",
                  "key_type": 202,
                  "mio_slot_key_type": 104
                }
              ]
            },
            "photo_id": {
              "attrs": [
                {
                  "attr": [
                    "photo_id"
                  ],
                  "converter": "id",
                  "key_type": 103,
                  "mio_slot_key_type": 103
                }
              ]
            },
            "user_id": {
              "attrs": [
                {
                  "attr": [
                    "user_id"
                  ],
                  "converter": "id",
                  "key_type": 202,
                  "mio_slot_key_type": 105
                }
              ]
            }
          },
          "is_common_attr": true,
          "parameters_output": "comment_common_signs",
          "slots_output": "comment_common_slots",
          "type_name": "KuibaParameterAttrEnricher"
        },
        "fetch_message_37C7B1": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "raw_sample_package_str"
            ],
            "$output_item_attrs": []
          },
          "group_id": "hot_comment_xtr",
          "kafka_topic": "reco_hot_comment_join_listwise_sample",
          "output_attr": "raw_sample_package_str",
          "type_name": "OfflineMessageFetchEnricher"
        },
        "get_remote_embedding_lite_00DE2D": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "comment_id"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "mmu_hetu_content_emb"
            ]
          },
          "client_side_shard": true,
          "downstream_processor": "__pipeline_end",
          "id_converter": {
            "type_name": "mioEmbeddingIdConverter"
          },
          "input_attr_name": "comment_id",
          "kess_service": "grpc_mmuCommentContentEmb",
          "output_attr_name": "mmu_hetu_content_emb",
          "query_source_type": "item_attr",
          "shard_num": 4,
          "size": 128,
          "slot": 101,
          "timeout_ms": 50,
          "type_name": "CommonRecoRemoteEmbeddingAttrLiteEnricher"
        },
        "get_remote_embedding_lite_2115EA": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "comment_id"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "mmu_clip_content_emb"
            ]
          },
          "client_side_shard": true,
          "downstream_processor": "__pipeline_end",
          "id_converter": {
            "type_name": "mioEmbeddingIdConverter"
          },
          "input_attr_name": "comment_id",
          "kess_service": "grpc_mmuCommentContentEmb",
          "output_attr_name": "mmu_clip_content_emb",
          "query_source_type": "item_attr",
          "shard_num": 4,
          "size": 256,
          "slot": 102,
          "timeout_ms": 50,
          "type_name": "CommonRecoRemoteEmbeddingAttrLiteEnricher"
        },
        "get_remote_embedding_lite_60460F": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [
              "comment_id"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "mmu_bert_content_emb"
            ]
          },
          "client_side_shard": true,
          "downstream_processor": "__pipeline_end",
          "id_converter": {
            "type_name": "mioEmbeddingIdConverter"
          },
          "input_attr_name": "comment_id",
          "kess_service": "grpc_mmuCommentContentEmb",
          "output_attr_name": "mmu_bert_content_emb",
          "query_source_type": "item_attr",
          "shard_num": 4,
          "size": 256,
          "slot": 103,
          "timeout_ms": 50,
          "type_name": "CommonRecoRemoteEmbeddingAttrLiteEnricher"
        },
        "log_debug_info_A59B60": {
          "$metadata": {
            "$input_common_attrs": [
              "age_segment",
              "client_request_info",
              "device_id",
              "gender",
              "llsid",
              "photo_author_id",
              "photo_id",
              "sample_minute_diff",
              "user_id"
            ],
            "$input_item_attrs": [
              "audienceAction",
              "audienceAction_first",
              "audienceAction_second",
              "author_id",
              "comment_genre",
              "comment_id",
              "dislike_cnt",
              "expandAction",
              "expandAction_first",
              "expandAction_second",
              "likeAction",
              "likeAction_first",
              "likeAction_second",
              "like_cnt",
              "ltr",
              "minute_diff",
              "mmu_category_tag",
              "mmu_emotion_tag",
              "mmu_entity_list",
              "new_sample_weight",
              "predict_like_score",
              "predict_reply_score",
              "quality_v2_score",
              "realshow_cnt",
              "replyAction",
              "replyAction_first",
              "replyAction_second",
              "reply_cnt",
              "reportAction",
              "reportAction_first",
              "reportAction_second",
              "risk_inactive_tag ",
              "risk_insult_tag",
              "risk_negative_tag",
              "rtr",
              "sample_weight",
              "showAction"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": []
          },
          "common_attrs": [
            "user_id",
            "device_id",
            "photo_id",
            "photo_author_id",
            "gender",
            "age_segment",
            "llsid",
            "client_request_info",
            "sample_minute_diff"
          ],
          "for_debug_request_only": false,
          "item_attrs": [
            "comment_id",
            "author_id",
            "like_cnt",
            "reply_cnt",
            "dislike_cnt",
            "realshow_cnt",
            "minute_diff",
            "showAction",
            "expandAction",
            "replyAction",
            "likeAction",
            "audienceAction",
            "reportAction",
            "comment_genre",
            "risk_insult_tag",
            "risk_negative_tag",
            "risk_inactive_tag ",
            "mmu_category_tag",
            "mmu_emotion_tag",
            "mmu_entity_list",
            "sample_weight",
            "predict_reply_score",
            "quality_v2_score",
            "predict_like_score",
            "new_sample_weight",
            "expandAction_first",
            "replyAction_first",
            "likeAction_first",
            "audienceAction_first",
            "reportAction_first",
            "expandAction_second",
            "replyAction_second",
            "likeAction_second",
            "audienceAction_second",
            "reportAction_second",
            "ltr",
            "rtr"
          ],
          "respect_sample_logging": true,
          "type_name": "CommonRecoDebugInfoObserver"
        },
        "parse_protobuf_from_string_E6CCD4": {
          "$metadata": {
            "$input_common_attrs": [
              "raw_sample_package_str"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [
              "raw_sample_package"
            ],
            "$output_item_attrs": []
          },
          "class_name": "kuiba.RawSamplePackage",
          "input_attr": "raw_sample_package_str",
          "output_attr": "raw_sample_package",
          "type_name": "CommonRecoProtobufParseAttrEnricher"
        },
        "perflog_attr_value_E877D1": {
          "$metadata": {
            "$input_common_attrs": [
              "photo_hash",
              "send_sample_cnt",
              "user_hash"
            ],
            "$input_item_attrs": [
              "field_emb",
              "fre_grouped_like_cnt",
              "fre_grouped_ltr",
              "fre_grouped_predict_like_score",
              "fre_grouped_predict_reply_score",
              "fre_grouped_quality_v2_score",
              "fre_grouped_reply_cnt",
              "fre_grouped_rtr",
              "like_reply_tr",
              "mmu_bert_content_emb",
              "mmu_clip_content_emb",
              "mmu_hetu_content_emb",
              "predict_like_score",
              "predict_reply_score",
              "quality_v2_score"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": []
          },
          "check_point": "send.mio.before",
          "common_attrs": [
            "send_sample_cnt",
            "user_hash",
            "photo_hash"
          ],
          "item_attrs": [
            "fre_grouped_ltr",
            "fre_grouped_rtr",
            "fre_grouped_like_cnt",
            "fre_grouped_reply_cnt",
            "field_emb",
            "like_reply_tr",
            "mmu_hetu_content_emb",
            "mmu_clip_content_emb",
            "mmu_bert_content_emb",
            "predict_reply_score",
            "quality_v2_score",
            "predict_like_score",
            "fre_grouped_predict_reply_score",
            "fre_grouped_quality_v2_score",
            "fre_grouped_predict_like_score"
          ],
          "type_name": "CommonRecoAttrValuePerflogObserver"
        },
        "retrieve_by_common_attr_F6F1FA": {
          "$metadata": {
            "$input_common_attrs": [
              "comment_id_list_common_retrieve"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": []
          },
          "attrs": [
            {
              "name": "comment_id_list_common_retrieve",
              "reason": 999
            }
          ],
          "type_name": "CommonRecoCommonAttrRetriever"
        },
        "return__28C561": {
          "$metadata": {
            "$input_common_attrs": [
              "_if_control_attr_1"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": []
          },
          "skip": "{{_if_control_attr_1}}",
          "status_code": 0,
          "type_name": "CommonRecoExecutionStatusEnricher"
        },
        "return__6A0259": {
          "$metadata": {
            "$input_common_attrs": [
              "_if_control_attr_2"
            ],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": []
          },
          "skip": "{{_if_control_attr_2}}",
          "status_code": 0,
          "type_name": "CommonRecoExecutionStatusEnricher"
        },
        "send_to_mio_learner_4A0BDF": {
          "$metadata": {
            "$input_common_attrs": [
              "comment_common_signs",
              "comment_common_slots",
              "comment_item_signs",
              "comment_item_slots",
              "expandAction",
              "expandAction_first_v",
              "expandAction_v",
              "likeAction",
              "likeAction_first_v",
              "likeAction_second_v",
              "likeAction_v",
              "mmu_bert_content_emb",
              "mmu_clip_content_emb",
              "mmu_hetu_content_emb",
              "new_sample_weight",
              "replyAction",
              "replyAction_first_v",
              "replyAction_second_v",
              "replyAction_v",
              "sample_weight",
              "time_ms",
              "user_hash",
              "user_id"
            ],
            "$input_item_attrs": [
              "comment_common_signs",
              "comment_common_slots",
              "comment_item_signs",
              "comment_item_slots",
              "expandAction",
              "expandAction_first_v",
              "expandAction_v",
              "likeAction",
              "likeAction_first_v",
              "likeAction_second_v",
              "likeAction_v",
              "mmu_bert_content_emb",
              "mmu_clip_content_emb",
              "mmu_hetu_content_emb",
              "new_sample_weight",
              "replyAction",
              "replyAction_first_v",
              "replyAction_second_v",
              "replyAction_v",
              "sample_weight"
            ],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": []
          },
          "attrs": [
            "sample_weight",
            "expandAction",
            "likeAction",
            "replyAction",
            "expandAction_v",
            "likeAction_v",
            "replyAction_v",
            "mmu_hetu_content_emb",
            "mmu_clip_content_emb",
            "mmu_bert_content_emb",
            "new_sample_weight",
            "expandAction_first_v",
            "likeAction_first_v",
            "likeAction_second_v",
            "replyAction_first_v",
            "replyAction_second_v"
          ],
          "label_attr": "likeAction",
          "lineid_attr": "user_id",
          "signs_attrs": [
            "comment_common_signs",
            "comment_item_signs"
          ],
          "slots_attrs": [
            "comment_common_slots",
            "comment_item_slots"
          ],
          "time_ms_attr": "time_ms",
          "type_name": "MioRecordChannelObserver",
          "user_hash_attr": "user_hash"
        },
        "set_attr_default_value_D91A08": {
          "$metadata": {
            "$input_common_attrs": [],
            "$input_item_attrs": [],
            "$modify_item_tables": [],
            "$output_common_attrs": [],
            "$output_item_attrs": [
              "audienceAction",
              "expandAction",
              "likeAction",
              "replyAction",
              "reportAction",
              "showAction"
            ]
          },
          "item_attrs": [
            {
              "name": "expandAction",
              "type": "int",
              "value": 0
            },
            {
              "name": "replyAction",
              "type": "int",
              "value": 0
            },
            {
              "name": "likeAction",
              "type": "int",
              "value": 0
            },
            {
              "name": "audienceAction",
              "type": "int",
              "value": 0
            },
            {
              "name": "reportAction",
              "type": "int",
              "value": 0
            },
            {
              "name": "showAction",
              "type": "int",
              "value": 0
            }
          ],
          "type_name": "CommonRecoAttrDefaultValueEnricher"
        }
      },
      "type_name": "CommonRecoPipeline"
    },
    "pipeline_map": {
      "extract_fea": {
        "__PARENT": "base_pipeline",
        "pipeline": [
          "enrich_attr_by_lua_2FA327",
          "extract_kuiba_parameter_67B29A",
          "extract_kuiba_parameter_3188A8"
        ]
      },
      "read_data": {
        "__PARENT": "base_pipeline",
        "pipeline": [
          "fetch_message_37C7B1",
          "parse_protobuf_from_string_E6CCD4",
          "enrich_with_protobuf_88269C",
          "_branch_controller_C954FEDA",
          "return__28C561",
          "enrich_attr_by_lua_2AF6DB",
          "retrieve_by_common_attr_F6F1FA",
          "dispatch_common_attr_B3813A",
          "count_reco_result_667B8B",
          "_branch_controller_A93BFE5B",
          "return__6A0259",
          "set_attr_default_value_D91A08",
          "enrich_attr_by_lua_C36279",
          "enrich_attr_by_lua_A6A36E",
          "enrich_attr_by_lua_05BC23",
          "get_remote_embedding_lite_00DE2D",
          "get_remote_embedding_lite_2115EA",
          "get_remote_embedding_lite_60460F",
          "log_debug_info_A59B60"
        ]
      },
      "send_mio": {
        "__PARENT": "base_pipeline",
        "pipeline": [
          "count_reco_result_7BD7E7",
          "enrich_attr_by_lua_29BEB0",
          "enrich_attr_by_lua_877019",
          "enrich_attr_by_lua_68E85C",
          "perflog_attr_value_E877D1",
          "send_to_mio_learner_4A0BDF"
        ]
      }
    }
  },
  "runner_pipeline_group": {
    "default_name": {
      "core_num_thread_ratio": 0.0,
      "pipeline": [
        "read_data",
        "extract_fea",
        "send_mio"
      ],
      "thread_num": -1
    }
  },
  "service_identifier": "comment_profile"
}